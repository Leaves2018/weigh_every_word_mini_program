<wxs src="./word-card.wxs" module="wxs" />
<view class="word-card {{extClass}}" bindtouchstart="{{wxs.touchStart}}" bindtouchend="{{wxs.touchEnd}}" bindtouchcancel="{{wxs.touchCancel}}" bindtouchmove="{{wxs.touchMove}}" catchtap="flipCard">

  <view wx:if="{{front}}" class="front">
    <view class="front-head">
      <image class="play-audio-btn" src='/images/laba.png' catchtap="playAudio" />
      <image wx:if="{{showTranslation}}" class="ec-switch-btn" src='/images/English.svg' catchtap="ecSwitch" />
      <image wx:else class="ec-switch-btn" src='/images/zhong.svg' catchtap="ecSwitch" />
    </view>
    <text class="wordcard-id" catchtap="flipCard">{{wordcard._id}}</text>
    <!-- <view class="wordcard-tag">{{wordcardTag}}</view> -->
    <view class="wordcard-phonetic">{{wordcard.phonetic ? '|' + wordcard.phonetic + '|' : ''}}</view>

    <view wx:if="{{showTranslation}}" class="wordcard-translation">
      <view wx:for="{{translationKeys}}" class="pos-container {{itemt}}" wx:key="*this" wx:for-index="indext" wx:for-item="itemt">
        <view class="part-of-speech {{itemt}}">{{itemt}}</view>
        <text class="wordcard-ec" wx:for="{{wordcard.translation[itemt]}}" wx:key="*this">- {{item}}\n</text>
      </view>
    </view>

    <view wx:else class="wordcard-definition">
      <view wx:for="{{definitionKeys}}" class="pos-container {{itemd}}" wx:key="*this" wx:for-index="indexd" wx:for-item="itemd">
        <view class="part-of-speech {{itemd}}">{{itemd}}</view>
        <text class="wordcard-ec" wx:for="{{wordcard.definition[itemd]}}" wx:key="*this">- {{item}}\n</text>
      </view>
    </view>
    <view class="bottom" wx:if="{{showButtons}}">
      <view class="btn forget" data-info="{{[0, wordcard._id]}}" catchtap="{{wxs.bottomButtonTap}}">忘记</view>
      <view class="btn remember" data-info="{{[1, wordcard._id]}}" catchtap="{{wxs.bottomButtonTap}}">记得</view>
      <!-- <view class="btn forget" data-info="{{[0, wordcard._id]}}" catchtap="bottomButtonTap">忘记</view>
      <view class="btn remember" data-info="{{[1, wordcard._id]}}" catchtap="bottomButtonTap">记得</view> -->
    </view>
  </view>

  <view wx:elif="{{!front && detail !== ''}}" class="back">
    <view class="back-head">
      <image class="play-audio-btn" src='/images/laba.png' catchtap="playAudio" />
      <text class="wordcard-id" catchtap="flipCard">{{wordcard._id}}</text>
    </view>
    <!-- <text class="wordcard-detail">{{detail}}</text> -->
    <!-- <rich-text nodes="{{htmlDetail}}"></rich-text> -->
    <!-- <towxml nodes="{{wxmlDetail}}"/> -->
    <block wx:for="{{wxmlDetails}}">
      <towxml nodes="{{item}}"/>
    </block>
  </view>

</view>